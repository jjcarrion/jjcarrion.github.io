<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Custom Modules for Drupal 7</title>

    <meta name="description"
          content="Presentation about creation of custom modules.">
    <meta name="author" content="Jose Jiménez (@jjcarrion)">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style"
          content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/solarized.css" id="theme">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h1>Drupal Custom Modules</h1>

            <h3>Introducción a Custom Modules para <a href="http://drupal.org">Drupal</a>
                7</h3>
            <aside class="notes">
                Porqué drupal 7 en vez de drupal 8.
            </aside>
            <p>
                <small>Creado por Jose Jiménez</a> / <a
                        href="http://twitter.com/jjcarrion">@jjcarrion</a>
                </small>
            </p>
        </section>

        <section>
            <h2>Sobre mi</h2>

            <h3>Jose Jiménez - jjcarrion</h3>
            <!--<img src="img/jose-1.jpg">-->
            <img src="img/aed.png">
            <img src="img/association_ind_member_badge.svg" height="140px">
            <img src="img/wunderkraut-big.png">

            <p>
                Developer at <a href="http://wunderkraut.se">Wunderkraut
                Sweden</a>
            </p>
        </section>

        <!-- Example of nested vertical slides -->
        <section>
            <section>
                <h2>Introducción a Custom Modules para Drupal 7</h2>

                <h3>Requisitos / Recomendaciones</h3>
            </section>
            <section>
                <h3>Instalación local Drupal.</h3>
                <ul>
                    <li>LAMP/MAMP/WAMP</li>
                    <li>Download Drupal from <a
                            href="https://www.drupal.org/project/drupal">drupal.org</a>
                    </li>
                    <li><a href="https://www.drupal.org/documentation/install">Install
                        drupal</a></li>
                </ul>
                <img src="img/drupal-logo-830x968.png">
            </section>
            <section>

                <h3>Editor texto / IDE</h3>

                <p>Podemos usar cualquier editor de texto *limpio* / IDE, pero
                    recomiendo un IDE que soporte <strong>Xdebug</strong> y
                    <strong>Drupal Coding Standards</strong></p>
                <br>
                <ul>
                    <li>
                        <a href="https://www.jetbrains.com/phpstorm/">PHPStorm</a>
                        (Not free)
                    </li>
                    <li><a href="https://netbeans.org/">Netbeans</a> (Free and
                        open source)
                    </li>
                    <li><a href="https://eclipse.org/">Eclipse</a> (Free and
                        open source)
                    </li>
                    <li><a href="http://www.vim.org/">(Vim)</a> (Free and open
                        source)
                    </li>
                    <li><a href="http://www.sublimetext.com/">(SublimeText)</a>
                        (Not free)
                    </li>
                    <li>Etc. (no flames, please!)</li>
                </ul>
            </section>
            <section>
                <h3>Coding Standards</h3>
                <a href="https://www.drupal.org/coding-standards">Drupal Coding
                    standards</a>
                <br/>
                <small>https://www.drupal.org/coding-standards</small>

                <ul>
                    <li>Nuestro código se va a mezclar con otro código</li>
                    <li>Mejora la lectura del código</li>
                    <li>Facilitan el mantenimiento</li>
                    <li>Más profesional</li>
                </ul>

                <img src="img/coding-standards.png">
                <small>El módulo <a
                        href="https://www.drupal.org/project/coder">Coder</a>
                    nos ayudará a verificar su nuestro código cumple los Coding
                    Standards y otras buenas prácticas. Se puede configurar en
                    nuestro IDE para que se revisen los Coding Standars mientras
                    escribimos.
                </small>
            </section>
            <section>
                <h3>Módulo <a href="https://www.drupal.org/project/devel">Devel
                    </a>
                </h3>

                <p>Funciones de ayuda para Drupal developers.</p>
                <img src="img/devel-kpr.png">
                <!--TODO: Add images for devel.-->
                <small>No hagáis push de dpm al repo y no olvidéis desactivar
                    el módulo en producción.
                </small>

            </section>
            <section>
                <h3><a href="http://xdebug.org/">XDebug</a></h3>

                <p>Extensión PHP que nos permite debugging y profiling. Necesita
                    configuración. (Avanzado)</p>
                <img src="img/xdebug.png">
                <a href="http://asociaciondrupal.es/es/content/virtual-bof-debugging-php">Virtual
                    BOF Debugging PHP</a>
                <br/>
                <small>
                    http://asociaciondrupal.es/es/content/virtual-bof-debugging-php
                </small>
                <aside class="notes">
                    Antes y después del xdebug.
                </aside>

            </section>
            <section>
                <h3>Mostrar errores (local)</h3>

                <p>Necesitamos tocar el php.ini</p>

                <code class="hljs">
                    display_errors = On<br />
                    error_reporting = E_ALL | E_STRICT
                </code>

            </section>
            <section>
                <h3>Drush</h3>

                <p>Que podemos decir de drush...</p>
                <img src="img/CHjcZWXWUAAIhih.jpg:large.jpeg" width="300px"><br />
                <small>
                    Para Drupal 8 también nos interesará
                    <a href="https://www.drupal.org/project/console">Drupal Console</a>
                </small>


            </section>
            <section>
                <h3><a href="https://www.drupal.org/project/examples">Examples</a></h3>

                <p>El módulo Examples es un conjunto de módulos donde se
                    explican diferentes partes de Drupal</p>
                <img src="img/examples_meatwad256.png">

            </section>
        </section>
        <section>
            <section>
                <h2>Primer módulo</h2>

                <h3>¿Dónde van los módulos custom?</h3>

                <pre>
                        |-- sites
                        |   |-- all
                        |   |   |-- modules
                        |   |   |   |-- contrib
                        |   |   |   |-- custom  <--- HERE
                </pre>
                o
                <pre>
                        |-- profiles
                        |   |-- [profile_name]
                        |   |   |-- modules
                        |   |   |   |-- contrib
                        |   |   |   |-- custom  <--- HERE
                </pre>
                <small>En Drupal 7, Nunca usar la carpeta /modules de la raiz
                    de la instalación
                    Pero en Drupal 8, tu módulo debe ir en la carpeta /modules.
                </small>
            </section>
            <section>
                <h2>Estructura de un módulo:</h2>
                <small>
                    <ul>
                        <li>
                            Archivos:
                            <ul>
                                <li>mymodule.info - <a
                                        href="https://drupal.org/node/542202">Module
                                    information file.</a>
                                </li>
                                <li>mymodule.module - Main module file, contains
                                    all the Drupal hook implementations.
                                </li>
                                <li>mymodule.admin.inc - Administrative menu
                                    callbacks, add/edit forms.
                                </li>
                                <li>mymodule.pages.inc - Public menu callbacks,
                                    accessible by non-editor and non-admin
                                    users.
                                </li>
                                <li>mymodule.inc - Helper functions (e.g call
                                    classes from includes/ directory)
                                </li>
                                <li>mymodule.install - Module installer,
                                    contains schema information, code cleanup
                                    (e.g. remove custom variables in
                                    hook_uninstall)
                                </li>

                            </ul>
                        </li>
                        <li>Carpetas:
                            <ul>
                                <li>includes/ - Contains custom classes, views
                                    handlers, etc.
                                </li>
                                <li>templates/ - Theme related files (*.tpl.php
                                    files, sometimes preprocess files here)
                                </li>
                                <li>plugins/ - Custom Ctools plugins
                                </li>
                                <li>css/ - CSS styles</li>
                                <li>images/ - Images and sprite graphics</li>
                                <li>js/ - Javascript helper files</li>
                            </ul>
                        </li>
                    </ul>
                </small>
                <p>Los archivos .info y .module son obligatorios.</p>
            </section>
            <section>
            <h2>mymodule.info</h2>
                <pre><code class="hljs">
    name = Nombre del modulo.
    description = Descripcion larga del modulo.
    core = 7.x
    package = Custom
    dependencies[] = image
    dependencies[] = text
    features[features_api][] = api:2
    features[field_base][] = field_answer_text
    files[] = mymodule.controller.inc

                </code></pre>
            </section>
            <section>
                <h2>mymodule.module</h2>
                <pre><code class="hljs php">
&lt;?php
/**
 * @file
 * Code for the first example module.
 */

// Write your code here!
                </code></pre>
            </section>
        </section>
        <section>
            <h2><a href="https://api.drupal.org/api/drupal/includes!module.inc/group/hooks/7">Hook</a> system</h2>
            <p>
                DO NOT HACK CORE!
                <ul>
                    <li>Será muy difícil actualizar Drupal</li>
                    <li>Se lo pondréis muy difícil a los que hereden el proyecto (https://www.drupal.org/project/hacked)</li>
                    <li>Puede que estéis dejando vulnerabilidades de seguridad</li>
                </ul>
                <img src="img/dont_hack_drupal_core.png">

        </section>
        <section>
            <h2>Ejemplos</h2>
            <p>
                drush dl devel, admin_menu, adminimal_theme, adminimal_admin_menu, examples, module_filter
            </p>
        </section>
        <section>
            <h1>¡GRACIAS!</h1>
        </section>

    </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js',
                async: true,
                condition: function () {
                    return !!document.querySelector('pre code');
                },
                callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });

</script>

</body>
</html>
